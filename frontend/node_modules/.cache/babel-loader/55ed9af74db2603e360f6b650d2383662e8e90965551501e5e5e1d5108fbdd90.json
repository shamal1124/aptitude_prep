{"ast":null,"code":"var _jsxFileName = \"F:\\\\proj\\\\shamal\\\\aptitude-prep-project\\\\frontend\\\\src\\\\pages\\\\Exam.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../css/exam.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND = \"http://localhost:5000\";\nfunction shuffleArray(arr) {\n  const a = arr.slice();\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\nconst Exam = () => {\n  _s();\n  const navigate = useNavigate();\n  const [showInstructions, setShowInstructions] = useState(true);\n  const [questions, setQuestions] = useState([]); // 30 questions for this exam\n  const [selected, setSelected] = useState([]); // user's selected answers (strings)\n  const [showQuestions, setShowQuestions] = useState(false);\n  const [timeLeft, setTimeLeft] = useState(1800); // default 30 minutes\n  const [showResult, setShowResult] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  // Fetch questions from backend on mount\n  useEffect(() => {\n    let mounted = true;\n    const fetchQuestions = async () => {\n      try {\n        const res = await fetch(`${BACKEND}/api/questions`);\n        if (!res.ok) throw new Error(`Server returned ${res.status}`);\n        const data = await res.json();\n        if (!mounted) return;\n\n        // Group by category\n        const byCategory = {\n          Reasoning: [],\n          Quantitative: [],\n          Verbal: []\n        };\n        data.forEach(q => {\n          const cat = q.category || 'General';\n          if (/reason/i.test(cat)) byCategory.Reasoning.push(q);else if (/quant/i.test(cat)) byCategory.Quantitative.push(q);else if (/verb/i.test(cat)) byCategory.Verbal.push(q);\n        });\n\n        // pick exactly n items from arr; if arr has fewer than n, sample with replacement\n        const pickN = (arr, n) => {\n          if (!Array.isArray(arr) || arr.length === 0) return [];\n          const res = [];\n          const shuffled = shuffleArray(arr);\n          // take unique first\n          for (let i = 0; i < Math.min(n, shuffled.length); i++) res.push(shuffled[i]);\n          // if still need more, pick randomly with replacement from arr\n          while (res.length < n) {\n            const idx = Math.floor(Math.random() * arr.length);\n            res.push(arr[idx]);\n          }\n          return res;\n        };\n        const r = pickN(byCategory.Reasoning, 10);\n        const q = pickN(byCategory.Quantitative, 10);\n        const v = pickN(byCategory.Verbal, 10);\n        const combined = shuffleArray([...r, ...q, ...v]).map(it => ({\n          id: it._id || Math.random().toString(36).slice(2, 9),\n          text: it.text || it.question || '',\n          options: it.options || [],\n          correctAnswer: it.correctAnswer || it.correct || null,\n          explanation: it.explanation || '',\n          category: it.category || ''\n        }));\n        setQuestions(combined);\n        setSelected(new Array(combined.length).fill(null));\n        setLoading(false);\n      } catch (err) {\n        console.error('Failed to load questions', err);\n        setError(err.message || 'Failed to load questions');\n        setLoading(false);\n      }\n    };\n    fetchQuestions();\n    return () => mounted = false;\n  }, []);\n\n  // Timer countdown\n  useEffect(() => {\n    let timer;\n    if (showQuestions && timeLeft > 0) {\n      timer = setInterval(() => setTimeLeft(prev => prev - 1), 1000);\n    } else if (showQuestions && timeLeft === 0) {\n      // auto submit when time up\n      handleSubmit();\n    }\n    return () => clearInterval(timer);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [showQuestions, timeLeft]);\n  const startExam = () => {\n    setShowInstructions(false);\n    setShowQuestions(true);\n    // reset timer to default 30 min\n    setTimeLeft(1800);\n  };\n  const handleSelect = (qIndex, option) => {\n    setSelected(prev => {\n      const copy = prev.slice();\n      copy[qIndex] = option;\n      return copy;\n    });\n  };\n  const handleSubmit = () => {\n    setShowQuestions(false);\n    setShowResult(true);\n  };\n  const handleRestart = () => {\n    // regenerate a new exam from already-fetched pool by re-running fetch\n    setLoading(true);\n    setShowResult(false);\n    setShowInstructions(true);\n    // refetch by forcing effect: simple approach - reload page or re-run fetch by re-mount; we'll re-run fetch by calling fetchQuestions inline\n    (async () => {\n      try {\n        const res = await fetch(`${BACKEND}/api/questions`);\n        if (!res.ok) throw new Error(`Server ${res.status}`);\n        const data = await res.json();\n        const byCategory = {\n          Reasoning: [],\n          Quantitative: [],\n          Verbal: []\n        };\n        data.forEach(q => {\n          const cat = q.category || 'General';\n          if (/reason/i.test(cat)) byCategory.Reasoning.push(q);else if (/quant/i.test(cat)) byCategory.Quantitative.push(q);else if (/verb/i.test(cat)) byCategory.Verbal.push(q);\n        });\n        // pick exactly n items from arr; if arr has fewer than n, sample with replacement\n        const pickN = (arr, n) => {\n          if (!Array.isArray(arr) || arr.length === 0) return [];\n          const res = [];\n          const shuffled = shuffleArray(arr);\n          for (let i = 0; i < Math.min(n, shuffled.length); i++) res.push(shuffled[i]);\n          while (res.length < n) {\n            const idx = Math.floor(Math.random() * arr.length);\n            res.push(arr[idx]);\n          }\n          return res;\n        };\n        const r = pickN(byCategory.Reasoning, 10);\n        const q = pickN(byCategory.Quantitative, 10);\n        const v = pickN(byCategory.Verbal, 10);\n        const combined = shuffleArray([...r, ...q, ...v]).map(it => ({\n          id: it._id || Math.random().toString(36).slice(2, 9),\n          text: it.text || it.question || '',\n          options: it.options || [],\n          correctAnswer: it.correctAnswer || it.correct || null,\n          explanation: it.explanation || '',\n          category: it.category || ''\n        }));\n        setQuestions(combined);\n        setSelected(new Array(combined.length).fill(null));\n        setLoading(false);\n      } catch (err) {\n        console.error('Restart fetch failed', err);\n        setError(err.message || 'Could not restart exam');\n        setLoading(false);\n      }\n    })();\n  };\n  const formatTime = secs => {\n    const m = Math.floor(secs / 60);\n    const s = secs % 60;\n    return `${m}:${s.toString().padStart(2, '0')}`;\n  };\n  const computeResults = () => {\n    let score = 0;\n    const details = questions.map((q, idx) => {\n      const userAns = selected[idx];\n      const correct = q.correctAnswer;\n      const isCorrect = userAns != null && String(userAns).trim() === String(correct).trim();\n      if (isCorrect) score += 1;\n      return {\n        question: q.text,\n        options: q.options,\n        selected: userAns,\n        correctAnswer: correct,\n        explanation: q.explanation,\n        isCorrect,\n        category: q.category\n      };\n    });\n    return {\n      score,\n      details\n    };\n  };\n\n  // Render\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"exam-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading questions...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 44\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"exam-container\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: [\"Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 44\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"exam-container\",\n    children: [showInstructions && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup instructions-popup\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Instructions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          textAlign: 'left'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Total Questions: 30 (10 Reasoning, 10 Quantitative, 10 Verbal)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Each question is multiple-choice (MCQ)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\"There is a timer: \", formatTime(timeLeft), \" (defaults to 30:00)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"Click Submit to finish the exam early\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ok-btn\",\n        onClick: startExam,\n        children: \"OK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }, this), showQuestions && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"questions-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer\",\n        children: [\"Time Remaining: \", formatTime(timeLeft)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), questions.map((q, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [idx + 1, \". \", q.text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options\",\n          children: q.options.map((opt, i) => {\n            const chosen = selected[idx] === opt;\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"option-btn\",\n              onClick: () => handleSelect(idx, opt),\n              style: {\n                backgroundColor: chosen ? '#c6f6d5' : undefined\n              },\n              children: opt\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 21\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 15\n        }, this)]\n      }, q.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          marginTop: 12\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit-btn\",\n          onClick: handleSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this), showResult && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup result-popup\",\n      style: {\n        maxHeight: '85vh',\n        overflowY: 'auto',\n        width: '90%',\n        maxWidth: 900\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Exam Result\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this), (() => {\n        const {\n          score,\n          details\n        } = computeResults();\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: [\"Score: \", score, \" / \", questions.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12\n            },\n            children: details.map((d, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                borderBottom: '1px solid #eee',\n                padding: '8px 0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: '600'\n                },\n                children: [idx + 1, \". \", d.question]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6\n                },\n                children: d.options.map((opt, i) => {\n                  const isUser = d.selected === opt;\n                  const isCorrect = String(opt).trim() === String(d.correctAnswer).trim();\n                  const bg = isCorrect ? '#d4ffd4' : isUser ? '#ffd4d4' : 'transparent';\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      padding: '6px',\n                      background: bg,\n                      borderRadius: 6,\n                      marginBottom: 6\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [String.fromCharCode(65 + i), \".\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 31\n                    }, this), \" \", opt, isCorrect && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        marginLeft: 8,\n                        color: '#0b6e0b',\n                        fontWeight: 600\n                      },\n                      children: \"[Correct]\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 45\n                    }, this), isUser && !isCorrect && /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        marginLeft: 8,\n                        color: '#b00020',\n                        fontWeight: 600\n                      },\n                      children: \"[Your answer]\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 56\n                    }, this)]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 23\n              }, this), d.explanation && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 6,\n                  fontStyle: 'italic'\n                },\n                children: [\"Explanation: \", d.explanation]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 25\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-buttons\",\n            style: {\n              marginTop: 16,\n              display: 'flex',\n              justifyContent: 'center',\n              gap: 12\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"restart-btn\",\n              onClick: handleRestart,\n              children: \"Restart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"home-btn\",\n              onClick: () => navigate('/dashboard'),\n              children: \"Home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this);\n      })()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n};\n_s(Exam, \"cK2moxMf8nl1QL7jkV6GPtI//yE=\", false, function () {\n  return [useNavigate];\n});\n_c = Exam;\nexport default Exam;\nvar _c;\n$RefreshReg$(_c, \"Exam\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","BACKEND","shuffleArray","arr","a","slice","i","length","j","Math","floor","random","Exam","_s","navigate","showInstructions","setShowInstructions","questions","setQuestions","selected","setSelected","showQuestions","setShowQuestions","timeLeft","setTimeLeft","showResult","setShowResult","loading","setLoading","error","setError","mounted","fetchQuestions","res","fetch","ok","Error","status","data","json","byCategory","Reasoning","Quantitative","Verbal","forEach","q","cat","category","test","push","pickN","n","Array","isArray","shuffled","min","idx","r","v","combined","map","it","id","_id","toString","text","question","options","correctAnswer","correct","explanation","fill","err","console","message","timer","setInterval","prev","handleSubmit","clearInterval","startExam","handleSelect","qIndex","option","copy","handleRestart","formatTime","secs","m","s","padStart","computeResults","score","details","userAns","isCorrect","String","trim","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","textAlign","onClick","opt","chosen","backgroundColor","undefined","marginTop","maxHeight","overflowY","width","maxWidth","fontWeight","d","borderBottom","padding","isUser","bg","background","borderRadius","marginBottom","fromCharCode","marginLeft","fontStyle","display","justifyContent","gap","_c","$RefreshReg$"],"sources":["F:/proj/shamal/aptitude-prep-project/frontend/src/pages/Exam.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../css/exam.css\";\r\n\r\nconst BACKEND = \"http://localhost:5000\";\r\n\r\nfunction shuffleArray(arr) {\r\n  const a = arr.slice();\r\n  for (let i = a.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [a[i], a[j]] = [a[j], a[i]];\r\n  }\r\n  return a;\r\n}\r\n\r\nconst Exam = () => {\r\n  const navigate = useNavigate();\r\n  const [showInstructions, setShowInstructions] = useState(true);\r\n  const [questions, setQuestions] = useState([]); // 30 questions for this exam\r\n  const [selected, setSelected] = useState([]); // user's selected answers (strings)\r\n  const [showQuestions, setShowQuestions] = useState(false);\r\n  const [timeLeft, setTimeLeft] = useState(1800); // default 30 minutes\r\n  const [showResult, setShowResult] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  // Fetch questions from backend on mount\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    const fetchQuestions = async () => {\r\n      try {\r\n        const res = await fetch(`${BACKEND}/api/questions`);\r\n        if (!res.ok) throw new Error(`Server returned ${res.status}`);\r\n        const data = await res.json();\r\n\r\n        if (!mounted) return;\r\n\r\n        // Group by category\r\n        const byCategory = { Reasoning: [], Quantitative: [], Verbal: [] };\r\n        data.forEach((q) => {\r\n          const cat = q.category || 'General';\r\n          if (/reason/i.test(cat)) byCategory.Reasoning.push(q);\r\n          else if (/quant/i.test(cat)) byCategory.Quantitative.push(q);\r\n          else if (/verb/i.test(cat)) byCategory.Verbal.push(q);\r\n        });\r\n\r\n        // pick exactly n items from arr; if arr has fewer than n, sample with replacement\r\n        const pickN = (arr, n) => {\r\n          if (!Array.isArray(arr) || arr.length === 0) return [];\r\n          const res = [];\r\n          const shuffled = shuffleArray(arr);\r\n          // take unique first\r\n          for (let i = 0; i < Math.min(n, shuffled.length); i++) res.push(shuffled[i]);\r\n          // if still need more, pick randomly with replacement from arr\r\n          while (res.length < n) {\r\n            const idx = Math.floor(Math.random() * arr.length);\r\n            res.push(arr[idx]);\r\n          }\r\n          return res;\r\n        };\r\n\r\n        const r = pickN(byCategory.Reasoning, 10);\r\n        const q = pickN(byCategory.Quantitative, 10);\r\n        const v = pickN(byCategory.Verbal, 10);\r\n\r\n        const combined = shuffleArray([...r, ...q, ...v]).map((it) => ({\r\n          id: it._id || Math.random().toString(36).slice(2, 9),\r\n          text: it.text || it.question || '',\r\n          options: it.options || [],\r\n          correctAnswer: it.correctAnswer || it.correct || null,\r\n          explanation: it.explanation || '',\r\n          category: it.category || '',\r\n        }));\r\n\r\n        setQuestions(combined);\r\n        setSelected(new Array(combined.length).fill(null));\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Failed to load questions', err);\r\n        setError(err.message || 'Failed to load questions');\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchQuestions();\r\n    return () => (mounted = false);\r\n  }, []);\r\n\r\n  // Timer countdown\r\n  useEffect(() => {\r\n    let timer;\r\n    if (showQuestions && timeLeft > 0) {\r\n      timer = setInterval(() => setTimeLeft((prev) => prev - 1), 1000);\r\n    } else if (showQuestions && timeLeft === 0) {\r\n      // auto submit when time up\r\n      handleSubmit();\r\n    }\r\n    return () => clearInterval(timer);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [showQuestions, timeLeft]);\r\n\r\n  const startExam = () => {\r\n    setShowInstructions(false);\r\n    setShowQuestions(true);\r\n    // reset timer to default 30 min\r\n    setTimeLeft(1800);\r\n  };\r\n\r\n  const handleSelect = (qIndex, option) => {\r\n    setSelected((prev) => {\r\n      const copy = prev.slice();\r\n      copy[qIndex] = option;\r\n      return copy;\r\n    });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    setShowQuestions(false);\r\n    setShowResult(true);\r\n  };\r\n\r\n  const handleRestart = () => {\r\n    // regenerate a new exam from already-fetched pool by re-running fetch\r\n    setLoading(true);\r\n    setShowResult(false);\r\n    setShowInstructions(true);\r\n    // refetch by forcing effect: simple approach - reload page or re-run fetch by re-mount; we'll re-run fetch by calling fetchQuestions inline\r\n    (async () => {\r\n      try {\r\n        const res = await fetch(`${BACKEND}/api/questions`);\r\n        if (!res.ok) throw new Error(`Server ${res.status}`);\r\n        const data = await res.json();\r\n        const byCategory = { Reasoning: [], Quantitative: [], Verbal: [] };\r\n        data.forEach((q) => {\r\n          const cat = q.category || 'General';\r\n          if (/reason/i.test(cat)) byCategory.Reasoning.push(q);\r\n          else if (/quant/i.test(cat)) byCategory.Quantitative.push(q);\r\n          else if (/verb/i.test(cat)) byCategory.Verbal.push(q);\r\n        });\r\n        // pick exactly n items from arr; if arr has fewer than n, sample with replacement\r\n        const pickN = (arr, n) => {\r\n          if (!Array.isArray(arr) || arr.length === 0) return [];\r\n          const res = [];\r\n          const shuffled = shuffleArray(arr);\r\n          for (let i = 0; i < Math.min(n, shuffled.length); i++) res.push(shuffled[i]);\r\n          while (res.length < n) {\r\n            const idx = Math.floor(Math.random() * arr.length);\r\n            res.push(arr[idx]);\r\n          }\r\n          return res;\r\n        };\r\n        const r = pickN(byCategory.Reasoning, 10);\r\n        const q = pickN(byCategory.Quantitative, 10);\r\n        const v = pickN(byCategory.Verbal, 10);\r\n        const combined = shuffleArray([...r, ...q, ...v]).map((it) => ({\r\n          id: it._id || Math.random().toString(36).slice(2, 9),\r\n          text: it.text || it.question || '',\r\n          options: it.options || [],\r\n          correctAnswer: it.correctAnswer || it.correct || null,\r\n          explanation: it.explanation || '',\r\n          category: it.category || '',\r\n        }));\r\n        setQuestions(combined);\r\n        setSelected(new Array(combined.length).fill(null));\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.error('Restart fetch failed', err);\r\n        setError(err.message || 'Could not restart exam');\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  };\r\n\r\n  const formatTime = (secs) => {\r\n    const m = Math.floor(secs / 60);\r\n    const s = secs % 60;\r\n    return `${m}:${s.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const computeResults = () => {\r\n    let score = 0;\r\n    const details = questions.map((q, idx) => {\r\n      const userAns = selected[idx];\r\n      const correct = q.correctAnswer;\r\n      const isCorrect = userAns != null && String(userAns).trim() === String(correct).trim();\r\n      if (isCorrect) score += 1;\r\n      return {\r\n        question: q.text,\r\n        options: q.options,\r\n        selected: userAns,\r\n        correctAnswer: correct,\r\n        explanation: q.explanation,\r\n        isCorrect,\r\n        category: q.category,\r\n      };\r\n    });\r\n    return { score, details };\r\n  };\r\n\r\n  // Render\r\n  if (loading) {\r\n    return <div className=\"exam-container\"><p>Loading questions...</p></div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"exam-container\"><p style={{ color: 'red' }}>Error: {error}</p></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"exam-container\">\r\n      {/* Instructions modal */}\r\n      {showInstructions && (\r\n        <div className=\"popup instructions-popup\">\r\n          <h2>Instructions</h2>\r\n          <ul style={{ textAlign: 'left' }}>\r\n            <li>Total Questions: 30 (10 Reasoning, 10 Quantitative, 10 Verbal)</li>\r\n            <li>Each question is multiple-choice (MCQ)</li>\r\n            <li>There is a timer: {formatTime(timeLeft)} (defaults to 30:00)</li>\r\n            <li>Click Submit to finish the exam early</li>\r\n          </ul>\r\n          <button className=\"ok-btn\" onClick={startExam}>OK</button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Questions list */}\r\n      {showQuestions && (\r\n        <div className=\"questions-section\">\r\n          <div className=\"timer\">Time Remaining: {formatTime(timeLeft)}</div>\r\n          {questions.map((q, idx) => (\r\n            <div key={q.id} className=\"question-card\">\r\n              <h4>{idx + 1}. {q.text}</h4>\r\n              <div className=\"options\">\r\n                {q.options.map((opt, i) => {\r\n                  const chosen = selected[idx] === opt;\r\n                  return (\r\n                    <button\r\n                      key={i}\r\n                      className=\"option-btn\"\r\n                      onClick={() => handleSelect(idx, opt)}\r\n                      style={{ backgroundColor: chosen ? '#c6f6d5' : undefined }}\r\n                    >\r\n                      {opt}\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <div style={{ textAlign: 'center', marginTop: 12 }}>\r\n            <button className=\"submit-btn\" onClick={handleSubmit}>Submit</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Result view */}\r\n      {showResult && (\r\n        <div className=\"popup result-popup\" style={{ maxHeight: '85vh', overflowY: 'auto', width: '90%', maxWidth: 900 }}>\r\n          <h2>Exam Result</h2>\r\n          {(() => {\r\n            const { score, details } = computeResults();\r\n            return (\r\n              <div>\r\n                <p style={{ fontWeight: 'bold' }}>Score: {score} / {questions.length}</p>\r\n\r\n                <div style={{ marginTop: 12 }}>\r\n                  {details.map((d, idx) => (\r\n                    <div key={idx} style={{ borderBottom: '1px solid #eee', padding: '8px 0' }}>\r\n                      <div style={{ fontWeight: '600' }}>{idx + 1}. {d.question}</div>\r\n                      <div style={{ marginTop: 6 }}>\r\n                        {d.options.map((opt, i) => {\r\n                          const isUser = d.selected === opt;\r\n                          const isCorrect = String(opt).trim() === String(d.correctAnswer).trim();\r\n                          const bg = isCorrect ? '#d4ffd4' : isUser ? '#ffd4d4' : 'transparent';\r\n                          return (\r\n                            <div key={i} style={{ padding: '6px', background: bg, borderRadius: 6, marginBottom: 6 }}>\r\n                              <strong>{String.fromCharCode(65 + i)}.</strong> {opt}\r\n                              {isCorrect && <span style={{ marginLeft: 8, color: '#0b6e0b', fontWeight: 600 }}>[Correct]</span>}\r\n                              {isUser && !isCorrect && <span style={{ marginLeft: 8, color: '#b00020', fontWeight: 600 }}>[Your answer]</span>}\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                      {d.explanation && (\r\n                        <div style={{ marginTop: 6, fontStyle: 'italic' }}>Explanation: {d.explanation}</div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                <div className=\"result-buttons\" style={{ marginTop: 16, display: 'flex', justifyContent: 'center', gap: 12 }}>\r\n                  <button className=\"restart-btn\" onClick={handleRestart}>Restart</button>\r\n                  <button className=\"home-btn\" onClick={() => navigate('/dashboard')}>Home</button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })()}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Exam;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}